<!doctype html>
<html lang="en">
	<head>
		<title>Introduction to IR, MT &amp; Semantics -- Alexander O'Connor </title>
        <style>
            div.step div{
                background-color:rgba(256,256,256,0.8);
            }
        </style>
	</head>
	<body>
		<div id="impress">
			<div id="Start" class="step" data-x="0" data-y="0">
				<div style="width:1000px;font-size:16px;text-align:center;">
					<h1>A Brief Introduction to IR, MT and Semantics</h1>
					<h2> Dr. Alexander O'Connor, <a href="http://www.cngl.ie">CNGL</a>, <a href="http://kdeg.scss.tcd.ie">KDEG</a>, <a href="http://scss.tcd.ie">TCD</a></h2>
					<img src="assets/images/alex.png" title="Alexander O'Connor" alt="Author Image" />
					<h3><a href="mailto:Alex.OConnor@scss.tcd.ie">Alex.OConnor@scss.tcd.ie</a></h3>	
					<h3><a href="http://www.twitter.com/uberalex">@uberalex</a></h3>
				</div>
			</div>
			<div id="Outline" class="step" data-x="-1200" data-y="0">
				<div style="width:1000px; font-size:24px;">
					<h2>What I would like you to know by the end of this talk</h2>
					<ul>
						<li> how a computer represents a document</li>
						<li> how documents are indexed and queries are matched</li>
						<li> some key ranking algorithms and how they work</li>
						<li> some of the features of modern web retrieval systems</li> 
					</ul>
				</div>
			</div>
			<div id="OutlinePart2" class="step" data-x="-1200" data-y="1200" data-rotate-z="90">
				<div style="width:1000px; font-size:24px">
					<h2>What I would like you to know by the end of this talk</h2>
				<ul>
					<li> how a computer can represent facts and concepts as a graph</li>
					<li>the difference between semantic and non-semantic approaches to knowledge representation</li>
					<li> how to publish linked data on the web</li>
				</ul>
				</div>
			</div>
			<div id="OutlinePart3" class="step" data-x="-1200" data-y="2400" data-rotate-z="180">
				<div style="width:1000px; font-size:24px">
					<h2>What I would like you to know by the end of this talk</h2>
				<ul>
					<li>How Statistical Machine Translation Evolved</li>
					<li>How SMT works</li>
					<li>The Challenges of Training SMT Systems</li>
				</ul>
				</div>
			</div>
			<div id="Einstein" class="step" data-y="1200">
				<div style="width:1000px; font-size:40px">
					<a href="http://commons.wikimedia.org/wiki/File:Albert_Einstein_1947.jpg"><img src="assets/images/einstein.jpg" alt="Albert Einstein" style="float:left; margin:0.25em;" width="250" title="Albert Einstein, 1947. Image from Wikimedia Commons" /></a>
					<blockquote style="text-align:justify;"> [I do not] carry such information in my mind since it is readily available in books. ...The value of a college education is not the learning of many facts but the training of the mind to think &mdash; <a href="http://en.wikiquote.org/wiki/Albert_Einstein#1920s">Albert Einstein</a>
					</blockquote>
				</div>
			</div>
			<div id="IRTitle" class="step" data-x="1200" data-y="0">
				<div style="width:1000px; font-size:32px">	
					<h2>Information Retrieval</h2>
					<input type="text" value="Grand Canal" style="float:left; margin-right:10px;font-size:32px; width:400px;" />
					<input type="submit" value="I'm feeling (un)lucky!" style="float:left;font-size:10em" />
				</div>
			</div>	
			<div id="DocRep" class="step" data-x="1200" data-y="1200">
				<div style="width:1000px; font-size:40px">
					<p>Document representation.</p>
				</div>
			</div>
			<div id="theDoc" class="step" data-x="800" data-y="1350" data-scale="0.2">
				<div style="width:1000px; font-size:32px; border: 5px solid black">
					<h4>Lines Written on a Seat on the Grand Canal, Dublin</h4>

					<p style="overflow:auto">'Erected to the memory of Mrs. Dermot O'Brien' <br /><br />

					O commemorate me where there is water,<br />
					Canal water, preferably, so stilly <br />
					Greeny at the heart of summer. Brother <br />
					Commemorate me thus beautifully <br />
					Where by a lock niagarously roars <br />
					The falls for those who sit in the tremendous silence <br />
					Of mid-July.No one will speak in prose <br />
					Who finds his way to these Parnassian islands. <br />
					A swan goes by head low with many apologies, <br />
					Fantastic light looks through the eyes of bridges -<br /> 
					And look! a barge comes bringing from Athy<br />
					And other far-flung towns mythologies.<br />
					O commemorate me with no hero-courageous <br />
					Tomb - just a canal-bank seat for the passer-by.<br />
					</p>
					<p style="text-align:right;">-Patrick Kavanagh
					<br />Copyright &copy; Estate of Katherine Kavanagh
					</p>
				</div>
			</div>
			<div id="theDocBag" class="step" data-x="1050" data-y="1325" data-scale="0.2" data-rotate-y="90">
				<div style="width:1000px; font-size:32px; border: 5px solid black">
					<h4>Lines Written on a Seat on the Grand Canal, Dublin</h4>
					<p>
					A, And, And, Athy, Brother, Canal, Commemorate, Dermot, Erected, Fantastic, Greeny, Mrs, No, O, O, OBrien, Of, Parnassian, The, Tomb, Where, Who, a, a, a, apologies, at, barge, beautifully, bridges, bringing, by, by, canal-bank, comes, commemorate, commemorate, eyes, falls, far-flung, finds, for, for, from, goes, head, heart, hero-courageous, his, in, in, is, islands, just, light, lock, look, looks, low, many, me, me, me, memory, mid-July, mythologies, niagarously, no, of, of, of, one, other, passer-by, preferably, prose, roars, seat, silence, sit, so, speak, stilly, summer, swan, the, the, the, the, the, there, these, those, through, thus, to, to, towns, tremendous, water, water, way, where, who, will, with, with
					</p>
				</div>
			</div>
			<div id="theDocFreq" class="step" data-x="1050" data-y="1325" data-z="-400" data-scale="0.2"data-rotate-y="90">
				<div style="width:1000px; font-size:32px; border: 5px solid black; background-color:rgba(256,256,256,0.8)">
					<h4>Lines Written on a Seat on the Grand Canal, Dublin</h4>
					<div id="poemdata"></div>
				</div>
			</div>
			<div id="TFAlgo" class="step" data-x="1200" data-y="2000">
				<div style="width:1000px; font-size:32px">
					<h3>How do we match the Query to the document?</h3>
					<ul>
						<li>Choose the document that mentions the query terms most often</li>
						<li>We call this <strong>Term Frequency</strong>, tf</li>
						<li><em>But, this has weaknesses</em></li>
					</ul>
				</div>
			</div>
			<div id="IDFAlgo" class="step" data-x="1200" data-y="2000" data-z="1000" data-rotate-y="90"> 
				<div style="width:1000px; font-size:32px">
					<h3>What words are most important?</h3>
					<ul>
						<li>Count how many documents there are where the term appears</li>
						<li>in the <em>corpus</em></li>
						<li>We call this <strong>Document Frequency</strong>, df<sub>t</sub></li>
						<li>document measure, not word measure</li>
					</ul>
				</div>
			</div>
			<div id="IDFAlgo2" class="step" data-x="1200" data-y="2000" data-z="2500"  data-rotate-y="90">
				<div style="width:1000px; font-size:32px">
					<h3>What words are most important?</h3>
					<ul>
						<li>We use the <strong>inverse document frequency</strong> as a scaling factor for the term frequency</li>
						<li>idf<sub>t</sub> = Log( #Documents where term appears / df<sub>t</sub>)</li>
					</ul>
				</div>
			</div>
			<div id="TFIDFAlgo" class="step" data-x="1200" data-y="2000"  data-z="4000" data-rotate-y="90">
				<div style="width:1000px; font-size:32px">
					<h3>How do we match the Query to the document?</h3>
					<ul>
						<li>tf x id<sub>t</sub></li>	
						<li>The number of times the term appears in the document, scaled against the overall importance of the word in the corpus</li>
						<li>Weight documents that mention more distinctive terms more often higher</li>
					</ul>
				</div>
			</div>
			<div id="ContentBased" class="step" data-x="1200" data-y="3000">
				<div style="width:1000px; font-size:32px">
					<h3>How do we match the Query to the document?</h3>
					<h3>Look at the words (as a bag) and choose the most distinctive (content-based approach)</h3>
					<ul>
						<li><strong>Some improvements</strong></li>
						<li>Eliminate the most common words of all (<em>stop words</em>)</li>
						<li>Stem words (remove <em>-ing</em>, etc.)</li>
						<li>Look at groups of words (<em><a href="http://books.google.com/ngrams">n-grams</a></em>)</li>
						<li><a href="http://norvig.com/spell-correct.html">Fix spelling errors</a> (<em><a href="http://www.let.rug.nl/kleiweg/lev/">edit distance</a></em>)</li>
						<li>Use document structure (<em>Title, link text, metadata</em>)</li>
						<li>Smarter, probablistic algorithm (<em>Okapi <a href="http://nlp.uned.es/~jperezi/Lucene-BM25/">BM25F</a></em>)</li>
					</ul>
				</div>
			</div>
			<div id="stopwords" class="step" data-x="1200" data-y="3000" data-z="-1000" data-rotate-y="90">
				<div style="width:1000px; font-size:32px; background-color:rgba(256,256,256,0.8)">
					<p style="background-color:#eee;"><a href="http://lucene.apache.org/">Apache Lucene</a> <a href="http://svn.apache.org/repos/asf/lucene/dev/trunk/lucene/analysis/common/src/java/org/apache/lucene/analysis/core/StopAnalyzer.java">default stopwords:</a><br />
						a, an, and, are, as, at, be, but, by,<br />
						for, if, in, into, is, it,<br />
						no, not, of, on, or, such,<br />
						that, the, their, then, there, these,</br >
      						they, this, to, was, will, with</p>	
						<p>More aggressive lists can be extremely powerful. (<a href="http://www.matthewjockers.net/macroanalysisbook/expanded-stopwords-list/">XIX<sup>th</sup>C. fiction.</a>)</p>
					<a href="#ContentBased">&crarr;</a>
				</div>

			</div>
			<div id="stemmers" class="step" data-x="1200" data-y="3000" data-z="-2500" data-rotate-y="90">
				<div style="width:1000px; font-size:32px">
					<div style="background-color:#eee">
					<p>Stemmers and <a href="http://en.wikipedia.org/wiki/Lemmatisation">Lemmatisers</a> are used to group together words that differ only for grammatical reasons (plurals, verbs, nouns, adjectives, adverbs).</p>
						<blockquote><em>Since it effectively provides a ‘suffix STRIPPER GRAMmar’, I had toyed with the idea of calling it ‘strippergram’, but good sense has prevailed, and so it is ‘Snowball’ named as a tribute to SNOBOL, the excellent string handling language of Messrs Farber, Griswold, Poage and Polonsky from the 1960s.</em>&mdash;Martin Porter</blockquote>
					</div>
										<ul>
						<li>The most prominent stemmer is probably <a href="http://snowball.tartarus.org/index.php">Snowball</a></li>
						<li>You can also train them up using machine learning</li>
						<li><strong>Depend on language, normalisation, vocabulary, etc.</strong></li>
					</ul>
					<a href="#ContentBased">&crarr;</a>
				</div>
			</div>
			<div id="webSearch" class="step" data-x="1200" data-y="4000">
				<div style="width:1000px; font-size:32px">
					<p>The World Wide Web is a <strong>bare-bones</strong> <a href="http://www.w3.org/WhatIs.html">Hypertext</a> system.  
				</div>
			</div>
			<div id="webGraph" class="step" data-x="1200" data-y="4000" data-z="-1000" data-rotate-y="90">
				<div style="width:1000px; font-size:32px">
					<div id="pagegraph" style="float:left"></div>
					<div id="graphremarks" style="float:right; background-color:#fff;width:490px;height:500px">
						<ul>
							<li>No content registry</li>
							<li>Unidirectional links</li>
							<li>No link relationships</li>
							<li>No (little) meta-data </li>
						</ul>
					</div>
				</div>
			</div>
			<div id="pageRankSurfer" class="step" data-x="1200" data-y="5000">
				<div style="width:1000px; font-size:32px">
										<p><img src="assets/images/bored.jpg" width="400" style="float:left" />
										Imagine a web surfer who clicks at random, eventually getting bored.
										<ul style="float:left">
											<li>Which sites is he most likely to find?</li>
											<li>How quickly does he tire?</li>
											<li>What does this tell us?</li>
										</ul>	
										</p>
					<p style="font-size:12px;float:right"><a href="http://www.flickr.com/photos/fod/201259829/">Photo CC-BY-SA by fod on flickr</a></p>
				</div>
			</div>		
			<div id="pageRankMarkov" class="step" data-x="1200" data-y="5000" data-z="-1000" data-rotate-y="90">
				<div style="width:1000px; font-size:32px">
					<h3>Aside: Markov chains</h3>
					<p>Markov Chains are systems which undergo transitions to a finite set of states with certain probabilities based only on the current state.
					They can be used to simulate sentences, markets, users, amongst countless other examples.</p>
				</div>
			</div>		
			<div id="pageRankInsight" class="step" data-x="1200" data-y="6000">
				<div style="width:1000px; font-size:32px">
				<strong>Key Insight:</strong> when people write pages, they link to good resources, which are often related.	
				<ul>
					<li>We can therefore imagine the 'value' of a page as being based on the reputation of the pages that link to it.</li>
					<li>The HITS algorithm is a similar approach, which is more explicit.</li>
				</ul>
				</div>
			</div>
			<div id="pageRankRemarks" class="step" data-x="1200" data-y="7000">
				<div style="width:1000px; font-size:32px">
				<h3>Pagerank has had an incredible impact on the structure of the Web</h3>
				<ul>
					<li>Early on, it could be 'gamed' (Google-<a href="http://en.wikipedia.org/wiki/Google_bomb">Bombing</a>, and -<a href="http://en.wikipedia.org/wiki/Googlewhack">whacking</a>)</li>
					<li>There is a continuous 'arms race' between SEO (Search Engine Optimisation) and the company</li>
					<li>What's the effect of automatic/semi-automatic authoring tools, such as CMS?</li>
					<li><a href="http://www.gabrielweinberg.com/blog/2012/11/magic-keywords-on-google-and-the-consequences-of-search-tailoring-results.html">Personalisation and other signals</a> are now extremely important.</li>
				</ul>
				</div>
			</div>
			<div id="irRollYourOwn" class="step" data-x="1200" data-y="8000">
				<div style="width:1000px; font-size:32px">
					<h3>Rolling your own (providing a modern search engine)</h3>
					<p><a href="http://lucene.apache.org/">Lucene</a>, especially <a href="http://lucene.apache.org/solr/">Solr</a>

					<a href="http://www.elasticsearch.org/">Elastic Search</a>
					<a href="http://stackoverflow.com/questions/10213009/solr-vs-elasticsearch">A good discussion on the merits of each (and some others)</a></p>
					<p>There are many others, <a href="http://www.lemurproject.org/">for example if you want to do algorithm research</a>, or fine-tune the system. It's also worth noting that many systems already embed Lucene/Solr, or <a href="https://drupal.org/project/ApacheSolr">permit it.</a></p>
				</div>
			</div>
			<div id="irConclusions" class="step" data-x="1200" data-y="9000">
				<div style="width:1000px; font-size:32px">
					<h3>Conclusions.</h3>
					The content you offer needs to be <strong>available</strong>, <strong>described</strong> and <strong>discoverable</strong>.
				<ul>
					<li>How will your users find the content, searching the web (while bored?)</li>
					<li>How will your users access the content, once they find it?</li>
					<li>How will your users describe what they want from your content?</li>
				</ul>
				</div>	
			</div>

<!-- Machine Translation -->
<div id="MTIntro" class="step" data-x="2400">
    <div style="width:1000px; font-size:32px">
        <h3>Machine Translation.</h3>
        <p><em>This material is based on slides and a tutorial by Dr. Declan Groves. I would like to gratefully acknowledge his generosity in permitting me to use and adapt them.</em></p>
    </div>
</div>
<div id="MTMotivation" class="step" data-x="2400" data-y="1200">
    <div style="width:1000px; font-size:32px">
        <h3>What does a universal translator need to do to work?</h3>
        <p><img src="assets/images/startrek.jpg" title="Combadge Translator" alt="Picture of Jean-Luc Picard" width="400" style="" /></p>
        <p style="font-size:16px">Star Trek is copyright &copy; CBS Television Studios</p>
    </div>
</div>
<div id="MTMeaning" class="step" data-x="2400" data-y="2400">
    <div style="width:1000px; font-size:32px">
        <p><em>Poetry is what gets lost in translation.</em>&mdash;Robert Frost.</p>        
    </div>
</div>
<div id="MTApproaches" class="step" data-x="2400" data-y="2400">
    <div style="width:1000px; font-size:32px">
            <h3>Approaches to Machine Translation</h3>
        <p>Translate from <strong>source language</strong> to <strong>target language</strong></p>
            <ul>
                <li>Rule-Based</li>
                <li>Example-Based</li>
                <li>Statistical</li>
            </ul>
       </div>
</div>
<div id="MTRule" class="step" data-x="2400" data-y="2400" data-z="-1200" data-rotate-y="90">
    <div style="width:1000px; font-size:32px;background-color:#eee">
        <div style="width:400px; float:left;">
            <h3>Given</h3>
            <ul>
                <li>A dictionary from source to target</li>
                <li>Rules for recognising terms in the Source Language</li>
                <li>Rules for constructing sentences in the Target Language</li>
            </ul>
        </div>
        <div style="width:400px; float:left;">
            <h3>Process</h3>
            <ul>
                <li>Identify the terms in the sentence of the Source Language</li>
                <li>Translate the words (with the <em>correct sense</em>)</li>
                <li>Construct the sentence in the Target Language</li>
            </ul>
        </div>
    </div>
</div>
<div id="MTExample" class="step" data-x="2400" data-y="2400" data-z="-2400" data-rotate-y="90">
    <div style="width:1000px; font-size:32px;background-color:#eee">
         <div style="width:400px; float:left;">
            <h3>Given</h3>
            <ul>
                <li>A large number of example translations</li>
                <li>Rules for recognising similar sentences in the same language</li>
                <li>Rules for thesaurus substitution</li>
            </ul>
        </div>
        <div style="width:400px; float:left;">
            <h3>Process</h3>
            <ul>
                <li>Identify the most similar sentence in the example list.</li>
                <li>Find the translations for the substitute terms</li>
                <li>Incorporate the substitutions</li>
            </ul>
        </div>
    </div>
</div>
    <div id="MTStat" class="step" data-x="2400" data-y="2400" data-z="-3600" data-rotate-y="90">
    <div style="width:1000px; font-size:32px; background-color:#eee">
         <div style="width:400px; float:left;">
            <h3>Given</h3>
            <ul>
                <li>An appropriate parallel corpus</li>
                <li>A statistical model of language</li>
            </ul>
        </div>
        <div style="width:400px; float:left;">
            <h3>Process</h3>
            <ul>
                <li>Choose the target sentence/phrase/word which is <strong>most likely</strong> to be the translation of the source</li>
                <li>Apply any clean-up rules</li>
            </ul>
        </div>
    </div>
</div>
<!-- Semantic Web -->
<div id="SemanticsIntro" class="step" data-x="3600">
    <div style="width:1000px; font-size:32px">
        The Semantic Approach
    </div>
</div>

		</div>
		<!-- Impress Javascript -->
		<!-- load impress -->
		<script src="js/impress.js"></script>
		<!-- initialise impress -->
		<script type="text/javascript">impress().init();</script>
		<!-- D3 Javascript -->
		<!-- load D3 -->
		<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
		<!-- d3 scripting -->
		<script type="text/javascript">
//////////////////////////
			//histogram of the words in the poem
			var poemdata = [{'count': 6, 'word': 'the'}, {'count': 4, 'word': 'a'}, {'count': 4, 'word': 'of'}, {'count': 3, 'word': 'me'}, {'count': 3, 'word': 'commemorate'}, {'count': 2, 'word': 'and'}, {'count': 2, 'word': 'in'}, {'count': 2, 'word': 'for'}, {'count': 2, 'word': 'no'}, {'count': 2, 'word': 'with'}, {'count': 2, 'word': 'by'}, {'count': 2, 'word': 'to'}, {'count': 2, 'word': 'who'}, {'count': 2, 'word': 'water'}, {'count': 2, 'word': 'o'}, {'count': 2, 'word': 'where'}, {'count': 1, 'word': 'heart'}, {'count': 1, 'word': 'fantastic'}, {'count': 1, 'word': 'far-flung'}, {'count': 1, 'word': 'just'}, {'count': 1, 'word': 'summer'}, {'count': 1, 'word': 'low'}, {'count': 1, 'word': 'lock'}, {'count': 1, 'word': 'is'}, {'count': 1, 'word': 'thus'}, {'count': 1, 'word': 'head'}, {'count': 1, 'word': 'erected'}, {'count': 1, 'word': 'prose'}, {'count': 1, 'word': 'way'}, {'count': 1, 'word': 'through'}, {'count': 1, 'word': 'at'}, {'count': 1, 'word': 'beautifully'}, {'count': 1, 'word': 'apologies'}, {'count': 1, 'word': 'towns'}, {'count': 1, 'word': 'speak'}, {'count': 1, 'word': 'canal'}, {'count': 1, 'word': 'bridges'}, {'count': 1, 'word': 'from'}, {'count': 1, 'word': 'stilly'}, {'count': 1, 'word': 'tremendous'}, {'count': 1, 'word': 'will'}, {'count': 1, 'word': 'swan'}, {'count': 1, 'word': 'passer-by'}, {'count': 1, 'word': 'canal-bank'}, {'count': 1, 'word': 'roars'}, {'count': 1, 'word': 'other'}, {'count': 1, 'word': "o'brien"}, {'count': 1, 'word': 'goes'}, {'count': 1, 'word': 'memory'}, {'count': 1, 'word': 'seat'}, {'count': 1, 'word': 'many'}, {'count': 1, 'word': 'dermot'}, {'count': 1, 'word': 'eyes'}, {'count': 1, 'word': 'his'}, {'count': 1, 'word': 'athy'}, {'count': 1, 'word': 'there'}, {'count': 1, 'word': 'mid-july'}, {'count': 1, 'word': 'falls'}, {'count': 1, 'word': 'preferably'}, {'count': 1, 'word': 'hero-courageous'}, {'count': 1, 'word': 'barge'}, {'count': 1, 'word': 'parnassian'}, {'count': 1, 'word': 'one'}, {'count': 1, 'word': 'bringing'}, {'count': 1, 'word': 'those'}, {'count': 1, 'word': 'look'}, {'count': 1, 'word': 'these'}, {'count': 1, 'word': 'sit'}, {'count': 1, 'word': 'greeny'}, {'count': 1, 'word': 'brother'}, {'count': 1, 'word': 'mrs'}, {'count': 1, 'word': 'niagarously'}, {'count': 1, 'word': 'mythologies'}, {'count': 1, 'word': 'so'}, {'count': 1, 'word': 'silence'}, {'count': 1, 'word': 'light'}, {'count': 1, 'word': 'islands'}, {'count': 1, 'word': 'tomb'}, {'count': 1, 'word': 'finds'}, {'count': 1, 'word': 'comes'}, {'count': 1, 'word': 'looks'}]	
		
			var chart = d3.select("#poemdata").append("svg")
			 			.attr("class", "chart")
 						.attr("height", 600)
						.attr("width", 1000);


			var x = d3.scale.linear().domain([0, poemdata.length]).range([0, 900]);
			var y = d3.scale.linear().domain([0, d3.max(poemdata, function(datum) { return datum.count; })]).rangeRound([0, 600]);
			var barWidth = (900 / poemdata.length) - 2;
			chart.insert("svg:text").attr("id","worcount").attr("x", barWidth+50).attr("y", 100).attr("font-size","100px").text("");
			chart.selectAll("rect").
				data(poemdata).
				enter().
				append("svg:rect").
				attr("x", function(datum, index) { return x(index) + 10; }).
				attr("y", function(datum) { return 600 - y(datum.count); }).
				attr("height", function(datum) { return y(datum.count); }).
				attr("width", barWidth).
				attr("fill", "#2d578b").
				on("mouseover", function(datum){
					chart.select("text").text(datum.word+": "+datum.count);
					//console.log(datum);
				});

//////////////////////////
			// force-directed graph of pages
				var pageDatanodes = [
						     {"url":"A","group":1}, //0
						     {"url":"B","group":1}, //1
						     {"url":"C","group":3}, //2
						     {"url":"D","group":1}, //3
						     {"url":"E","group":1}, //4
						     {"url":"F","group":1}, //5
						     {"url":"G","group":1}, //6
						     {"url":"H","group":1}, //7
						     {"url":"I","group":1}, //8
						     {"url":"J","group":1}, //9
						     {"url":"J","group":1}, //10
						     {"url":"J","group":2}  //11
						   ];

				var pageDatalinks = [
						     {"source": 0, "target": 1, "value": 20}, 
						     {"source": 1, "target": 2, "value": 20},
						     {"source": 2, "target": 3, "value": 20},
						     {"source": 2, "target": 4, "value": 20},
						     {"source": 2, "target": 5, "value": 20},
						     {"source": 4, "target": 5, "value": 20},
						     {"source": 3, "target": 6, "value": 20},
						     {"source": 6, "target": 7, "value": 20},
						     {"source": 6, "target": 10, "value": 20},
						     {"source": 7, "target": 8, "value": 20},
						     {"source": 3, "target": 9, "value": 20}
						    ];
						 
			var pageGraph = d3.select("#pagegraph").append("svg")
					.attr("class", "graph")
					.style("border", "1px solid #000")
					.style("background-color", "rgba(256,256,256,0.8)")
					.attr("height", 500)
					.attr("width", 500);	
			// generate the colours
			var colours = d3.scale.category10();

			//declare the layout
			var force = d3.layout.force()
					.charge(-120)
					.linkDistance(60)
					.size([500,500]); // change this if the slide or graph change sizes!
		
	    		force.nodes(pageDatanodes)
			     	.links(pageDatalinks)
			     	.start();	

			var link = pageGraph.selectAll(".link")
					.data(pageDatalinks)
					.enter()
					.append("line")
					.attr("class","link")
					.style("stroke","#999")
					.style("stroke-opacity",0.6)
					.style("stroke-width",function(d){return Math.sqrt(d.value)});

			var node = pageGraph.selectAll(".node")
					.data(pageDatanodes)
					.enter()
					.append("circle")
					.attr("class","node")
					.attr("r",8)
					.style("stroke","#eee")
					.style("stroke-width",2)
					.style("fill", function(d){return colours(d.group);})
					.call(force.drag);

			node.append("title")
			    .text(function(d){return d.url;});
			force.on("tick", function() {
				link.attr("x1", function(d) { return d.source.x; })
				    .attr("y1", function(d) { return d.source.y; })
				    .attr("x2", function(d) { return d.target.x; })
				    .attr("y2", function(d) { return d.target.y; });

       			        node.attr("cx", function(d) { return d.x; })
				    .attr("cy", function(d) { return d.y; });
				});
	

		</script>
	</body>
</html>
